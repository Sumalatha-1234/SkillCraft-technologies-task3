<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillCraft Categorized Quiz</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configure Tailwind to use Inter font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117; /* Dark background */
        }
        /* Custom styles for selected options */
        .option-selected-single {
            background-color: #1f3a53 !important; /* Darker blue for selection */
            border-color: #2563eb !important;
            box-shadow: 0 0 10px rgba(37, 99, 235, 0.5);
        }
        .option-selected-multi {
            background-color: #1f3a53 !important; /* Darker blue for selection */
            border-color: #10b981 !important; /* Green border for multi-select confirmation */
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }
        .category-card {
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px -5px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <!-- Main Quiz Container -->
    <div id="quiz-container" class="w-full max-w-2xl bg-[#161b22] text-white p-6 md:p-10 rounded-xl shadow-2xl transition-all duration-300">

        <!-- Header -->
        <header class="mb-8">
            <h1 class="text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-teal-400">
                QUIZ GAME APPLICATION
            </h1>
            <p class="text-sm text-gray-400 mt-1" id="header-subtitle">Select a Category to Begin</p>
            <div id="progress-text" class="text-sm text-gray-500 mt-4 hidden"></div>
        </header>

        <!-- Category Selection Screen -->
        <div id="category-selection-screen">
            <h2 class="text-xl md:text-2xl font-semibold mb-6 text-gray-300">Choose Your Quiz:</h2>
            
            <!-- Question Count Selector -->
            <div class="mb-6 p-4 bg-gray-800 rounded-lg shadow-inner">
                <label for="question-count" class="block text-sm font-medium text-gray-300 mb-2">
                    Number of Questions to Attempt (Max 10 per category):
                </label>
                <select id="question-count" class="w-full p-2 rounded-lg bg-gray-700 border border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500">
                    <option value="1">1 Question</option>
                    <option value="2">2 Questions</option>
                    <option value="3" selected>3 Questions</option>
                    <option value="4">4 Questions</option>
                    <option value="5">5 Questions</option>
                    <option value="6">6 Questions</option>
                    <option value="7">7 Questions</option>
                    <option value="8">8 Questions</option>
                    <option value="9">9 Questions</option>
                    <option value="10">10 Questions</option>
                </select>
            </div>

            <div id="category-cards-container" class="space-y-4">
                <!-- Category cards will be injected here by JavaScript -->
            </div>
        </div>

        <!-- Quiz Area (Hidden initially) -->
        <div id="quiz-area" class="hidden">
            
            <!-- Timer and Progress Bar -->
            <div class="mb-6">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-lg font-bold" id="timer-display">Time Left: <span id="time-value">0</span>s</span>
                    <span id="question-type-indicator" class="text-xs font-medium px-2 py-1 bg-purple-700/30 text-purple-300 rounded-full inline-block"></span>
                </div>
                <div class="w-full bg-gray-700 rounded-full h-2.5">
                    <div id="time-progress-bar" class="bg-blue-500 h-2.5 rounded-full transition-all duration-100 ease-linear" style="width: 100%"></div>
                </div>
            </div>
            
            <!-- Question Display -->
            <div class="mb-6">
                <p id="question-text" class="text-xl md:text-2xl font-semibold mb-4"></p>
            </div>

            <!-- Options/Input Container -->
            <div id="options-container" class="space-y-4">
                <!-- Options (buttons) or input (fill-in) will be injected here by JavaScript -->
            </div>

            <!-- Message Box for multi-select/errors -->
            <div id="message-box" class="mt-4 p-3 text-sm rounded-lg text-yellow-300 bg-yellow-900/50 hidden"></div>

            <!-- Navigation Button -->
            <div class="mt-8 flex justify-between items-center">
                <button id="back-to-categories-button"
                        class="px-4 py-2 text-sm bg-gray-700 text-white font-semibold rounded-lg shadow-lg hover:bg-gray-600 transition-colors duration-200">
                    &larr; Change Quiz
                </button>
                <button id="next-button" disabled
                        class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-lg hover:bg-blue-700 disabled:bg-gray-700 disabled:text-gray-500 transition-colors duration-200">
                    Next
                </button>
            </div>
        </div>

        <!-- Results Screen (Hidden initially) -->
        <div id="results-screen" class="text-center py-10 hidden">
            <h2 class="text-4xl font-extrabold text-teal-400 mb-4">Quiz Complete!</h2>
            <p class="text-lg text-gray-300 mb-6">You finished the <span id="quiz-category-name" class="font-bold text-blue-300"></span>!</p>
            
            <div class="inline-block p-6 rounded-xl bg-gray-800 shadow-xl">
                <p class="text-6xl font-black text-white" id="final-score-display"></p>
                <p class="text-xl font-medium text-gray-400 mt-2">Correct Answers</p>
            </div>

            <div class="mt-8 space-y-3">
                <button id="restart-button" 
                        class="w-full md:w-auto px-8 py-3 bg-teal-600 text-white font-bold text-lg rounded-xl shadow-lg hover:bg-teal-700 transition-colors duration-200">
                    Play Again
                </button>
                <button id="back-to-categories-result-button" 
                        class="w-full md:w-auto px-8 py-3 bg-gray-600 text-white font-bold text-lg rounded-xl shadow-lg hover:bg-gray-700 transition-colors duration-200">
                    Change Category
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- Configuration Constants ---
        // Updated max questions to 10 per category to support a higher total count
        const MAX_QUESTIONS_PER_CATEGORY = 10; 
        const TIME_PER_QUESTION_SECONDS = 20; // Time limit for each question

        // --- Categorized Quiz Data (Expanded) ---
        const CATEGORIZED_QUIZ_DATA = {
            "College Subject Quiz (CS/IT)": {
                description: "Test your knowledge in Computer Science and IT fundamentals.",
                questions: [
                    {
                        question: "What does HTML stand for?",
                        type: "single", 
                        options: ["Hyper Text Markup Language", "High Tech Multi-Language", "Hyper Transfer Mail Link", "Home Tool Management Language"],
                        correctAnswer: [0] 
                    },
                    {
                        question: "In JavaScript, what keyword is used to declare a block-scoped variable?",
                        type: "single",
                        options: ["var", "let", "const", "static"],
                        correctAnswer: [1]
                    },
                    {
                        question: "Which data structure uses LIFO (Last-In, First-Out) principle?",
                        type: "single",
                        options: ["Queue", "Stack", "Linked List", "Tree"],
                        correctAnswer: [1]
                    },
                    // --- New CS/IT Questions ---
                    {
                        question: "Which language is primarily used for frontend web styling?",
                        type: "single",
                        options: ["JavaScript", "Python", "CSS", "SQL"],
                        correctAnswer: [2]
                    },
                    {
                        question: "What is the primary function of a firewall?",
                        type: "single",
                        options: ["Increase internet speed", "Block malicious network traffic", "Compress data files", "Create backups"],
                        correctAnswer: [1]
                    },
                    {
                        question: "Select all common programming paradigms.",
                        type: "multi",
                        options: ["Declarative", "Object-Oriented", "Functional", "Metamorphic"],
                        correctAnswer: [1, 2] // Object-Oriented, Functional
                    },
                    {
                        question: "Which common HTTP methods are used to send or update data on a server? (Select Two)",
                        type: "multi",
                        options: ["GET", "POST", "HEAD", "PUT"],
                        correctAnswer: [1, 3] // POST, PUT
                    },
                    {
                        question: "The process of finding errors and fixing them in a program is called ______.",
                        type: "fill-in",
                        correctAnswer: ["Debugging", "debug"] 
                    },
                    {
                        question: "What is the base-16 number system called?",
                        type: "single",
                        options: ["Binary", "Octal", "Decimal", "Hexadecimal"],
                        correctAnswer: [3]
                    },
                    {
                        question: "What does SQL stand for?",
                        type: "single",
                        options: ["Sequential Query Logic", "Structured Query Language", "Standard Question Library", "Server Query Link"],
                        correctAnswer: [1]
                    }
                ]
            },
            "Competitive Exam Quiz (General Knowledge)": {
                description: "Sharpen your general awareness for competitive exams.",
                questions: [
                    {
                        question: "Which of these are non-relational (NoSQL) databases?",
                        type: "multi",
                        options: ["MySQL", "MongoDB", "PostgreSQL", "Cassandra"],
                        correctAnswer: [1, 3] 
                    },
                    {
                        question: "Which planets are known as the 'Gas Giants' in our Solar System? (Select Two)",
                        type: "multi",
                        options: ["Mars", "Jupiter", "Venus", "Saturn"],
                        correctAnswer: [1, 3] 
                    },
                    {
                        question: "The highest mountain peak in the world is Mount ____.",
                        type: "fill-in", 
                        correctAnswer: ["Everest"] 
                    },
                    // --- New GK Questions ---
                    {
                        question: "Who invented the practical light bulb?",
                        type: "single",
                        options: ["Nikola Tesla", "Alexander Graham Bell", "Thomas Edison", "George Westinghouse"],
                        correctAnswer: [2]
                    },
                    {
                        question: "Which continent is the largest by land area?",
                        type: "single",
                        options: ["Africa", "North America", "Asia", "Europe"],
                        correctAnswer: [2]
                    },
                    {
                        question: "Select the official working languages of the United Nations. (Select Two)",
                        type: "multi",
                        options: ["German", "English", "Italian", "French"],
                        correctAnswer: [1, 3]
                    },
                    {
                        question: "Which countries share a land border with India? (Select Two)",
                        type: "multi",
                        options: ["Thailand", "Pakistan", "Afghanistan", "Bangladesh"],
                        correctAnswer: [1, 3] 
                    },
                    {
                        question: "The currency of Japan is the ______.",
                        type: "fill-in",
                        correctAnswer: ["Yen"]
                    },
                    {
                        question: "What is the chemical symbol for Gold?",
                        type: "single",
                        options: ["Ag", "Fe", "Au", "Cu"],
                        correctAnswer: [2]
                    },
                    {
                        question: "The Suez Canal connects the Mediterranean Sea with which other body of water?",
                        type: "single",
                        options: ["Black Sea", "Red Sea", "Arabian Sea", "Baltic Sea"],
                        correctAnswer: [1]
                    }
                ]
            },
            "Placement Quiz (Aptitude)": {
                description: "Practice your aptitude and logical reasoning skills.",
                questions: [
                    {
                        question: "What is the result of '5' + 3 in JavaScript?",
                        type: "single",
                        options: ["8", "53", "Error", "NaN"],
                        correctAnswer: [1]
                    },
                    {
                        question: "If a car travels at 60 km/h, how long does it take to travel 120 km?",
                        type: "single",
                        options: ["1 hour", "2 hours", "3 hours", "4 hours"],
                        correctAnswer: [1]
                    },
                    {
                        question: "In a code segment, if two conditions must be true to proceed, which logical operator must be used?",
                        type: "single",
                        options: ["OR", "NOT", "AND", "XOR"],
                        correctAnswer: [2]
                    },
                    // --- New Aptitude Questions ---
                    {
                        question: "If 8 men can do a job in 12 days, how many men are needed to do it in 6 days (assuming constant efficiency)?",
                        type: "single",
                        options: ["4", "16", "10", "14"],
                        correctAnswer: [1]
                    },
                    {
                        question: "Find the next number in the series: 2, 4, 8, 16, ___.",
                        type: "single",
                        options: ["20", "24", "32", "64"],
                        correctAnswer: [2]
                    },
                    {
                        question: "Which of these are prime numbers? (Select Two)",
                        type: "multi",
                        options: ["9", "13", "15", "17"],
                        correctAnswer: [1, 3] 
                    },
                    {
                        question: "Which letters appear exactly twice in the word 'COMMITTEE'? (Select Two)",
                        type: "multi",
                        options: ["C", "M", "I", "T"],
                        correctAnswer: [1, 3] // M and T appear twice
                    },
                    {
                        question: "A person who arranges and sells flowers is called a ______. (Singular noun)",
                        type: "fill-in",
                        correctAnswer: ["Florist"]
                    },
                    {
                        question: "A tap fills a tank in 4 hours. How much of the tank is filled in 1 hour (as a fraction)?",
                        type: "single",
                        options: ["1/2", "1/3", "1/4", "3/4"],
                        correctAnswer: [2]
                    },
                    {
                        question: "What is the cube root of 64?",
                        type: "single",
                        options: ["4", "8", "16", "32"],
                        correctAnswer: [0]
                    }
                ]
            }
        };

        // --- Global State ---
        let currentQuestionIndex = 0;
        let score = 0;
        let currentSelection = []; // Stores the indices or text input
        let currentQuizData = []; // Stores the questions for the actively selected quiz
        let currentCategoryName = ""; // Stores the name of the actively selected quiz
        let totalQuestionsToAttempt = 3; // Default value, will be updated from selector

        // --- Timer State ---
        let timerInterval;
        let timeLeft = TIME_PER_QUESTION_SECONDS;

        // --- DOM Elements ---
        const headerSubtitle = document.getElementById('header-subtitle');
        const questionCountSelector = document.getElementById('question-count');
        const categorySelectionScreen = document.getElementById('category-selection-screen');
        const categoryCardsContainer = document.getElementById('category-cards-container');
        const progressText = document.getElementById('progress-text');
        const quizArea = document.getElementById('quiz-area');
        const resultsScreen = document.getElementById('results-screen');
        const questionText = document.getElementById('question-text');
        const questionTypeIndicator = document.getElementById('question-type-indicator');
        const optionsContainer = document.getElementById('options-container');
        const messageBox = document.getElementById('message-box');
        const nextButton = document.getElementById('next-button');
        const finalScoreDisplay = document.getElementById('final-score-display');
        const restartButton = document.getElementById('restart-button');
        const backToCategoriesButton = document.getElementById('back-to-categories-button');
        const backToCategoriesResultButton = document.getElementById('back-to-categories-result-button');
        const quizCategoryNameDisplay = document.getElementById('quiz-category-name');
        const timeValueDisplay = document.getElementById('time-value');
        const timeProgressBar = document.getElementById('time-progress-bar');
        
        // --- Utility Functions ---
        
        // Function to shuffle an array (Fisher-Yates algorithm)
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        function showScreen(screenToShow) {
            categorySelectionScreen.classList.add('hidden');
            quizArea.classList.add('hidden');
            resultsScreen.classList.add('hidden');

            if (screenToShow === 'categories') {
                categorySelectionScreen.classList.remove('hidden');
                progressText.classList.add('hidden');
                headerSubtitle.textContent = "Select a Category to Begin";
            } else if (screenToShow === 'quiz') {
                quizArea.classList.remove('hidden');
                progressText.classList.remove('hidden');
                headerSubtitle.textContent = currentCategoryName;
            } else if (screenToShow === 'results') {
                resultsScreen.classList.remove('hidden');
                progressText.classList.add('hidden');
                headerSubtitle.textContent = "Quiz Results";
            }
        }

        // --- Timer Logic ---
        function startTimer() {
            stopTimer(); // Clear any existing timer
            timeLeft = TIME_PER_QUESTION_SECONDS;
            timeValueDisplay.textContent = timeLeft;
            timeProgressBar.style.width = '100%';
            timeProgressBar.classList.remove('bg-yellow-500', 'bg-red-500');
            timeProgressBar.classList.add('bg-blue-500');

            timerInterval = setInterval(() => {
                timeLeft--;
                timeValueDisplay.textContent = timeLeft;

                const progress = (timeLeft / TIME_PER_QUESTION_SECONDS) * 100;
                timeProgressBar.style.width = `${progress}%`;

                if (progress <= 50) {
                    timeProgressBar.classList.remove('bg-blue-500');
                    timeProgressBar.classList.add('bg-yellow-500');
                }
                if (progress <= 20) {
                    timeProgressBar.classList.remove('bg-yellow-500');
                    timeProgressBar.classList.add('bg-red-500');
                }

                if (timeLeft <= 0) {
                    stopTimer();
                    // Automatically move to the next question if time runs out
                    // The answer is considered incorrect if no selection was made
                    handleNext(); 
                }
            }, 1000);
        }

        function stopTimer() {
            clearInterval(timerInterval);
        }

        // --- Core Logic ---

        function initializeApp() {
            renderCategorySelection();
            showScreen('categories');
            // Ensure question count is initialized from the selector
            totalQuestionsToAttempt = parseInt(questionCountSelector.value, 10);
        }

        function renderCategorySelection() {
            categoryCardsContainer.innerHTML = '';
            
            Object.keys(CATEGORIZED_QUIZ_DATA).forEach(category => {
                const data = CATEGORIZED_QUIZ_DATA[category];
                const card = document.createElement('div');
                
                card.className = 'category-card p-6 bg-gray-800 rounded-xl border-2 border-transparent hover:border-blue-500 shadow-lg';
                card.innerHTML = `
                    <h3 class="text-xl font-bold text-blue-400 mb-2">${category}</h3>
                    <p class="text-gray-400 text-sm">${data.description}</p>
                    <p class="text-xs mt-3 text-teal-400 font-semibold">Total Pool: ${data.questions.length} Questions</p>
                `;
                card.addEventListener('click', () => startQuiz(category));
                categoryCardsContainer.appendChild(card);
            });
        }

        function startQuiz(category) {
            // Get selected question count
            totalQuestionsToAttempt = parseInt(questionCountSelector.value, 10);
            
            currentCategoryName = category;
            let questionPool = [...CATEGORIZED_QUIZ_DATA[category].questions]; 
            
            // Shuffle the entire pool first
            shuffle(questionPool);
            
            // Limit the pool to the user's selected count
            currentQuizData = questionPool.slice(0, totalQuestionsToAttempt);
            
            // Initial setup
            currentQuestionIndex = 0;
            score = 0;
            currentSelection = [];
            
            showScreen('quiz');
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex >= currentQuizData.length) {
                showResults();
                return;
            }

            const q = currentQuizData[currentQuestionIndex];
            
            // Reset state for new question
            currentSelection = [];
            messageBox.classList.add('hidden');
            nextButton.disabled = true;

            // Start the timer for the new question
            startTimer(); 

            // Update header progress
            progressText.textContent = `Question ${currentQuestionIndex + 1} of ${currentQuizData.length} | Category: ${currentCategoryName}`;

            // Update question text and indicator
            questionText.textContent = q.question;
            optionsContainer.innerHTML = ''; // Clear options

            if (q.type === 'single') {
                questionTypeIndicator.textContent = 'Single-Select (Choose one)';
                questionTypeIndicator.className = 'text-xs font-medium px-2 py-1 bg-purple-700/30 text-purple-300 rounded-full inline-block';
                
                q.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.className = 'w-full text-left p-4 bg-gray-800 border border-gray-700 rounded-lg hover:bg-gray-700 transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-blue-500';
                    button.setAttribute('data-index', index);
                    button.addEventListener('click', () => handleOptionClick(button, index));
                    optionsContainer.appendChild(button);
                });

            } else if (q.type === 'multi') {
                questionTypeIndicator.textContent = 'Multi-Select (Select all that apply)';
                questionTypeIndicator.className = 'text-xs font-medium px-2 py-1 bg-teal-700/30 text-teal-300 rounded-full inline-block';

                q.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.className = 'w-full text-left p-4 bg-gray-800 border border-gray-700 rounded-lg hover:bg-gray-700 transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-teal-500';
                    button.setAttribute('data-index', index);
                    button.addEventListener('click', () => handleOptionClick(button, index));
                    optionsContainer.appendChild(button);
                });

            } else if (q.type === 'fill-in') {
                questionTypeIndicator.textContent = 'Fill-in-the-Blank (Type your answer)';
                questionTypeIndicator.className = 'text-xs font-medium px-2 py-1 bg-yellow-700/30 text-yellow-300 rounded-full inline-block';
                
                const input = document.createElement('input');
                input.type = 'text';
                input.id = 'fill-in-input';
                input.placeholder = 'Type your answer here...';
                input.className = 'w-full p-4 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500';
                
                optionsContainer.appendChild(input);

                input.addEventListener('input', (e) => {
                    const value = e.target.value.trim();
                    currentSelection = [value];
                    nextButton.disabled = value.length === 0;
                });
            }
        }

        function handleOptionClick(clickedButton, index) {
            const q = currentQuizData[currentQuestionIndex];
            
            // Single-select logic
            if (q.type === 'single') {
                // Deselect previous selection
                optionsContainer.querySelectorAll('button').forEach(btn => {
                    btn.classList.remove('option-selected-single');
                });
                
                // Select new option
                clickedButton.classList.add('option-selected-single');
                currentSelection = [index]; // Store the single index
                nextButton.disabled = false;
                
            } 
            // Multi-select logic
            else if (q.type === 'multi') {
                const selectionIndex = currentSelection.indexOf(index);
                
                if (selectionIndex === -1) {
                    // Add to selection
                    currentSelection.push(index);
                    clickedButton.classList.add('option-selected-multi');
                } else {
                    // Remove from selection
                    currentSelection.splice(selectionIndex, 1);
                    clickedButton.classList.remove('option-selected-multi');
                }
                
                // Ensure array is sorted for comparison later
                currentSelection.sort((a, b) => a - b); 
                
                // Enable Next button if at least one option is selected
                nextButton.disabled = currentSelection.length === 0;

                messageBox.textContent = `You have selected ${currentSelection.length} option(s). Click Next when ready.`;
                messageBox.classList.remove('hidden');
            }
        }

        function checkAnswer() {
            const q = currentQuizData[currentQuestionIndex];
            let isCorrect = false;
            
            if (q.type === 'fill-in') {
                // Fill-in-the-blank logic
                if (currentSelection.length > 0) {
                    const userAnswer = currentSelection[0].toLowerCase().trim();
                    // Check against all possible correct answers
                    const correctAnswers = q.correctAnswer.map(ans => ans.toLowerCase().trim());
                    isCorrect = correctAnswers.includes(userAnswer);
                }
            } else {
                // Single/Multi-select logic
                const correct = q.correctAnswer.sort((a, b) => a - b);
                // Simple string representation comparison for arrays
                isCorrect = JSON.stringify(currentSelection) === JSON.stringify(correct);
            }

            if (isCorrect) {
                score++;
            }
        }

        function handleNext() {
            // Stop the timer immediately
            stopTimer(); 
            
            // 1. Check the user's answer and update the score
            // If the timer ran out, currentSelection might be empty, and checkAnswer handles that (or marks it incorrect).
            checkAnswer();
            
            // 2. Move to the next question
            currentQuestionIndex++;
            
            // 3. Load the next question or show results
            loadQuestion();
        }

        function showResults() {
            showScreen('results');
            
            quizCategoryNameDisplay.textContent = currentCategoryName;
            finalScoreDisplay.textContent = `${score} / ${currentQuizData.length}`;
        }
        
        // --- Event Listeners ---
        
        nextButton.addEventListener('click', handleNext);
        // Restart now re-uses the previous question count selection
        restartButton.addEventListener('click', () => startQuiz(currentCategoryName));
        
        backToCategoriesButton.addEventListener('click', () => {
            stopTimer(); // Stop timer before leaving quiz view
            initializeApp();
        });
        backToCategoriesResultButton.addEventListener('click', initializeApp);

        // Update total questions to attempt when the select changes
        questionCountSelector.addEventListener('change', (e) => {
            totalQuestionsToAttempt = parseInt(e.target.value, 10);
        });
        
        // --- Initialization ---
        window.onload = initializeApp;

    </script>
</body>
</html>
